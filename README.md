# Git
Система контроля версий(СКВ) - это система регистрирущая изменения в одном или нскольких файлах, с тем чтобы в дальнейшем была возможность вернуться к определённым старым версиям этих файлов. Бывают следующие типы СКВ:
- Локальные, т.е. выполнение и мониторинг изменений присущий только одному компьютеру.
- Централизованная СКВ. Т.е. все раюотают над копией репозитория находящейся на центральном сервере, это позволяло решить проблему сотрудничества между разработчиками. Но самый большим недостатком есть то что сервер есть уязвимым местом, т.е. если сервер полетел, то востановить репозиторий будет кайне сложно.
- Распределенные СКВ. Т.е. клиенты получают не просто последние версии файлов, а полностью копируют весь репозиторий.

Одним из видов СКВ, который явлеться очень популярным на сегодняшний день это git. Git это распределенная система контроля версий, хранящая снимки(слепки) файловой системы ввиде списка комитов. Т.е. каждый коммит это снимок вашей файловой системы над которой вы работали. Но главное отличие в том что хранится не вся файловая система а имеено те изменеия которые были проведенны над файломм. Иными словами Git это как база данных которая хранит информацию о изменениях.
Под распределенным тут понимаеться то что сам репозиторий размещаеться локально между всеми учасниками репозитория(разработчиками), т.е. они могут работать над своими изменениями локально, и когда надо поделиться своими изменениями(комитами с колегами) то выполняеться так называемая отправка комита или групы коммитов на централизованный сервер, после чего другие учасники проекта могут синхронизироваться с вами "подтянув" ваши изменения с центрального сервера.
В отличие от работы с централизованными системами, в которых необходима постоянная синхронизация с сервером, в git вы можете работать офлайн, и выполнять синхронизацию когда это необходимо.
Распределенность Git немного напоминает работу над одним файлом Google Docs

Git содержит три части:
- Git директория
- Рабочий каталог
- Область подготовленных данных (staging area)

Git директория это каталог который содержит метаданные для работы с вашим проектом, такие как например просматривать историю изменений в вашем проекте, или откатить ваш проект к предедущим изменениям. Git дериктория являеться ключевым свойством вашего всего проекта, без этого каталога это впринципе обычная ваша файловая система.
Рабочий каталог это файловая система вашего проэкта соответсвующая последнему вашему изменению, т.е. текущему состоянию в git.

Область подготовленных данных хранит содержимое ваших текущих изменений отличных от предыдущих изменений в вашей git директории, которые еще небыли зафиксированные в git. Т.е. это некая просто разность между тем что зафиксировано в git, и тем что вы сейчас временно на изменяли. Разделяют 4 состояния
- Неотслеживаемый(untracked) файл/ы находяться локально, но отстутсвую в вашем git репозитории.
- Изменен, т.е. локально есть изменеия которые отличаються от последнего снимка файловой системы репозитория(последнего фиксированого изменения)
- Подготовлен, т.е. мы подготавливаем списки файлов для следующей фиксации в git
- Без изменения наш локальный репозитория(рабочая директория) такая же как последний снимок файловой системы (последнего фиксированого изменения).

Основной инструмент для работы c Git это CLI(command line interface), но иногда и используют графические инструменты(десктопные приложения) для работы с Git, или используют расширения для популярных IDE.

В git выделяют две важных сущности:
- Коммиты
- Ветки
## Коммит
Коммит являеться одним из основных объект в git. Коммит можно описать как некая фиксация изменений которые мы провели над нашим рабочим каталогом(т.е. файлами). Коммит харектиризуеться двумя важными свойствами как имя коммита так и хеш коммита. Как понятно наверное из названия имя коммита это для нашего с вами понимания что мы сделали коммитом в нашей рабочей директории. Тогда как хеш это некий уникальный индетификатор который нужен для внутренних команд git, чтобы уникально идентифицировать каждый коммит. Также коммит хранит еще не мало важный атрибут это кто автор коммита(имя и его email), что являеться достаточно важным, например вы нашли ошибку в коде и по имени можете индетифицировать кто из ваших колег производил изменения над этим кодом и можете сообщить ему об ошибке по указаному email.
## Ветка
Ветка это последовательный набор коммитов(список хешей). Ветку можно охарактеризовать как задачу(фичу) над которой вы в данный момент работаете. Т.е. представте у вас есть большой проект и большая группа разработчиков, и каждый из них выполняяет каждый свою задачу, и чтобы не мешать друг другу, разработчик создает свою собственную ветку и работает спокойно над своей задачей, при этом никак не мешая другим разработчикам. Из этого вытекает что в вашем проекте, т.е. в git может быть сколь угодно веток, но есть как вы наверное уже поняли одна главная ветка это мастер ветка, в которую сливаються все другие ветки. Т.е. разработчик поработав над своей задачей, тщательно ее протестировав, и потом может смело ее сливать с мастер веткой. Мастер ветка это некий релиз(стабильная версия) вашего проекта. Стоит отметить что в ветке есть важное понятие это указатель HEAD, он являеться неким указателем на последний коммит в вашей вветке. Используя данный указатель можно откотиться на другой коммит, что являеться достаточно удобно и очень быстро. 
### Создание репозитория
Есть два подхода к созданию репозитория(рабочий проект). Первый это если вам не нужен сервер или удаленное место для хранения вашего репозитория вы его можете создать локально используя или CLI(command line interface) или доступное UI(user interface) приложение. Второй подход это если вам необходимо хранилище(уделенное) вы создаете репозиторий удаленно используя для этого один из доступных web сервисов, например GitHub или Gitlab и др.

https://help.github.com/en/articles/adding-an-existing-project-to-github-using-the-command-line
### Основные команды git
Синтаксис для работы с git выглядит примерно следующим образом
```
git команда аргументы
```
В принцепе для работы над существующим репозиторием хватит 6 основных git команд:
- Клонирование проекта, т.е. мы загружаем последние изменения с удаленного репозитория(если он у нас есть). В этом случае будет создана дериктория которая соответсвует названию удаленного репозитория. При этом будет использовать ветка которая являеться по умолчанию в текущем репозитории(часто это ветка с именем master)
```
git clone <url>
или
git clone <url> имя_директории - в это случае git создаст название директории указанной вами вместо названия клонируемого репозитория
```

- Переключение на другую ветку
```
git checkout имя_переключаемой_ветки
```

- Добавление новой ветки в локальный репозиторий(но пока отсутсвующей на удаленном репозитории).
```
git checkout -b имя_переключаемой_ветки - я рекомендую этот подход
или
git branch имя_ветки
```

- Просмотр истории ветки
```
git log - просмотр разниреной историй репозитоия
git log --oneline - просмотр сокращеных хешей с текстом коммита
git log --oneline --graph - просмотр истории изменения ввиде дерева
```
Тут стоит сделать маленькую ремарку, то что когда мы создаем новую ветку, мы тем самым неявно унаследуемся от текущей ветке на которой мы были перед созданием новой ветки. Это очень важно, так как новые коммиты будут добавляться в цепочку коммитов котрые были в унаследованой ветки. Или можно более технически то что новая ветка, т.е. HEAD(указатель на последний коммит) будет совпадать с тем HEAD ветки от которого мы создали ветку.

- Просмотр изменений в репозитории(staging area), т.е. какие изменения мы проводили над нашим проектом. Эта команда показывает изменения отличные от последнего коммита который был зафиксирован на текущей ветке(добавление новых файлов, или удаление, или изменения файлов).
```
git status
```

- Просмотр изменений в файлах(разность) между последним локальным коммитом и вашими изменениями на текущий момент(то что находиться staging area). Важно то что эта команда показывает измения только над существующими файлами, т.е. теми которые были добавлены в предыдущих коммитах. Но не на вновь добавленых файлах.
```
git diff
```

- Добавление изменений в наш репозиторий(staging area). Т.е. этой командой вы подтверждаете и соглашаетесь с вашими изменениями в текущем репозитории, происходит некая фиксация изменений(во временное хранилище).
```
git add .
или
git add -A
```

- Ниже командой мы фиксируем изменения которые были добавлены в staging area(временное хранилище) в репозиторий нашего проекта. Важно то что данный коммит добаляеться в список коммитов текущей ветки. Еще важным моментом есть то что этот коммит добален локально, но отсутсвует на удаленном репозитории, если такой имеент место.
```
git commit -m message
git commit - открытие редактора по умолчанию для написания названиякоммита
git commit -a -m message - это еще один способ сразу добавить все изменения из staging area и сделать коммит
git commit --amend - заменить предыдущий коммит с новыми изменениями(staging changes).
```

- Отправка локальных изменений на удаленный сервер. Этой командой мы синхронизируем наши локальные изменения с удаленным репозиторием.
```
git push origin имя_ветки
```

### Создание репозитория с нуля локально
```
# Инициализаци локального репозитория
git init - после этого в нашем рабочей директории появиться скрытая директория .git, создаеться дефолтная ветка master

# создаем файл локально, роли неиграет каким способом. Это Linux код. Вы можете создать файл и добавить в него какие то данные используя для этого любой доступный инструмент, или редактор.
touch README.md
cat << EOF > README.md
Test repo

# проверяем состояние репозитория
git status
# видим что файл сейчас в состоянии Untracked(ну это и понятно так как у нас репозитий то был пустой)

#прошуобратить внимание что мы не может выполнить команду git diff, т.к. эта команда делает разницу между двумя коммитами уже существующего файла в репозитории
# подготовливаем созданный нами файл к коммиту, переведя его в подготовленное состояние
git add .

#если повторно выполнить проверку состояния, то мыувидим что у нас список файлов изменил цвет, и написано что изменения готовы к коммиту
git status

# ну и делаем коммит
git commit -m "My first commit"

#давайте например что то поменяем в нашем файле добавим новую строчку New line
#делаем проверку изменений
git status
# мы видим уже другое сообщение что изменения были произведены над файлом и они еще не подготовленны
# выполним команду разницы коммитов
git diff
# и можно увидеть что мы добавили
# дальше подготовливаем наш файл
git add .

# И можем выполнить два действия
# первое если мы хотим внести изменения в ранее созданный нами коммит, то надо выполнить git commit --amend
# но мы создадим новый коммит
git commit -m "Add new line"
```

### Создание удаленного репозитория (на GitHub)
Все что мы делали перед этим это все изменения локально, но что надо делать чтобы довать наш репозитория удаленно, например на GitHub
Для начала нам необходимо в нашем профиле создать новый репозиторий на GitHub
Дальше необходимо выполнить следующие команды
```
git remote add origin <url>
# важно понимать что делает эта команда, она довольно проста ее основной задачей есть связать нереально длинный <url> с неким коротким псевдонимом origin. И там где будет использоваться origin неявно будет браться ваш <url>
#url скопирован с GitHub, это url вашего созданого репозитория
#Дальше отправляем наши изменения на сервер
git push origin master
```
И все наш репозиторий теперь на Github